<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Unit 2 Vocabulary - 84 Words</title>
    <style>
        :root { --p: #00b894; --bg: #f2f2f7; --txt: #1c1c1e; --success: #34c759; --danger: #ff3b30; --secondary: #8e8e93; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; touch-action: manipulation; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); margin: 0; padding: 10px; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; }
        .quiz-card { background: white; width: 100%; max-width: 450px; padding: 15px; border-radius: 24px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); display: flex; flex-direction: column; min-height: 520px; margin-top: 5px; }
        #start-screen, .result-box { text-align: center; margin: auto 0; }
        .mode-btn { width: 100%; padding: 18px; margin: 10px 0; border: none; border-radius: 15px; background: #f1f3f5; font-size: 17px; font-weight: 700; cursor: pointer; color: var(--txt); }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .category-tag { background: #00b89415; padding: 4px 10px; border-radius: 8px; font-size: 10px; font-weight: 800; color: var(--p); text-transform: uppercase; }
        .counter { font-size: 13px; font-weight: 600; color: var(--secondary); }
        .progress-bar { width: 100%; height: 5px; background: #e5e5ea; border-radius: 3px; margin-bottom: 15px; overflow: hidden; }
        #progress { height: 100%; background: var(--p); width: 0%; transition: 0.3s ease; }
        .question-text { font-size: 24px; font-weight: 800; color: var(--txt); min-height: 60px; text-align: center; display: flex; align-items: center; justify-content: center; margin-bottom: 15px;}
        .options { display: grid; gap: 10px; width: 100%; }
        .opt { padding: 16px; border: 2px solid #f2f2f7; border-radius: 15px; background: white; font-size: 15px; font-weight: 600; color: var(--txt); cursor: pointer; }
        .correct { background: var(--success) !important; color: white !important; border-color: var(--success) !important; }
        .wrong { background: var(--danger) !important; color: white !important; border-color: var(--danger) !important; }
        .footer { margin-top: auto; padding-top: 15px; }
        .score-row { font-weight: 700; font-size: 16px; text-align: center; color: var(--secondary); margin-bottom: 10px; }
        .btn-container { display: flex; gap: 10px; width: 100%; height: 50px; }
        .action-btn { flex: 1; border-radius: 14px; font-weight: 700; cursor: pointer; border: none; font-size: 14px; }
        #finish-btn { background: #fff; color: var(--danger); border: 2px solid var(--danger); }
        #next-btn { background: var(--txt); color: white; visibility: hidden; } 
        .result-pct { font-size: 55px; font-weight: 900; color: var(--p); margin: 5px 0; }
    </style>
</head>
<body>

<div class="quiz-card">
    <div id="start-screen">
        <h1 style="font-size: 24px;">Unit 2 Test</h1>
        <p style="color: var(--secondary); font-size: 14px;">Learning and doing (84 ta so'z)</p>
        <button class="mode-btn" onclick="startQuiz('uz-en')">O'zbekcha ➔ Inglizcha</button>
        <button class="mode-btn" onclick="startQuiz('en-uz')">Inglizcha ➔ O'zbekcha</button>
    </div>

    <div id="quiz-area" style="display: none; flex-direction: column; flex-grow: 1;">
        <div class="header">
            <span id="category" class="category-tag">...</span>
            <span id="counter" class="counter">0 / 0</span>
        </div>
        <div class="progress-bar"><div id="progress"></div></div>
        <div id="q-text" class="question-text">...</div>
        <div id="options" class="options"></div>
        
        <div class="footer">
            <div class="score-row" id="score-info">Ball: 0</div>
            <div class="btn-container">
                <button id="finish-btn" class="action-btn" onclick="showResults()">Tugatish</button>
                <button id="next-btn" class="action-btn" onclick="nextQuestion()">Keyingisi &rarr;</button>
            </div>
        </div>
    </div>
</div>

<script>
    const dictionary = [
        // Topic Vocabulary (30)
        {en:"achieve", uz:"erishmoq", c:"Topic Vocabulary"}, {en:"brain", uz:"miya", c:"Topic Vocabulary"}, {en:"clever", uz:"aqlli", c:"Topic Vocabulary"}, {en:"concentrate", uz:"fikrni jamlamoq", c:"Topic Vocabulary"}, {en:"consider", uz:"deb hisoblamoq", c:"Topic Vocabulary"}, {en:"course", uz:"kurs", c:"Topic Vocabulary"}, {en:"degree", uz:"daraja", c:"Topic Vocabulary"}, {en:"experience", uz:"tajriba (qilmoq)", c:"Topic Vocabulary"}, {en:"expert", uz:"o'z ishini ustasi", c:"Topic Vocabulary"}, {en:"fail", uz:"muvaffaqiyatsizlikka uchramoq", c:"Topic Vocabulary"}, {en:"guess", uz:"taxmin qilmoq", c:"Topic Vocabulary"}, {en:"hesitate", uz:"ikkilanmoq", c:"Topic Vocabulary"}, {en:"instruction", uz:"qo'llanma", c:"Topic Vocabulary"}, {en:"make progress", uz:"yuksalmoq", c:"Topic Vocabulary"}, {en:"make sure", uz:"ishonch hosil qilmoq", c:"Topic Vocabulary"}, {en:"mark", uz:"baholamoq / baho", c:"Topic Vocabulary"}, {en:"mental", uz:"aqliy", c:"Topic Vocabulary"}, {en:"pass", uz:"imtihondan o'tmoq", c:"Topic Vocabulary"}, {en:"qualification", uz:"malaka / tajriba", c:"Topic Vocabulary"}, {en:"remind", uz:"eslatmoq", c:"Topic Vocabulary"}, {en:"report", uz:"hisobot bermoq", c:"Topic Vocabulary"}, {en:"revise", uz:"qayta ko'rib chiqmoq", c:"Topic Vocabulary"}, {en:"search", uz:"qidirmoq", c:"Topic Vocabulary"}, {en:"skill", uz:"mahorat", c:"Topic Vocabulary"}, {en:"smart", uz:"aqlli (s)", c:"Topic Vocabulary"}, {en:"subject", uz:"fan", c:"Topic Vocabulary"}, {en:"take an exam", uz:"imtihon topshirmoq", c:"Topic Vocabulary"}, {en:"talented", uz:"talantli", c:"Topic Vocabulary"}, {en:"term", uz:"termin", c:"Topic Vocabulary"}, {en:"wonder", uz:"hayratlanmoq", c:"Topic Vocabulary"},
        // Phrasal Verbs (8)
        {en:"Cross out", uz:"yozuvni o'chirmoq (chizish)", c:"Phrasal Verbs"}, {en:"Look up", uz:"lug'atdan qidirmoq", c:"Phrasal Verbs"}, {en:"Point out", uz:"ta'kidlamoq", c:"Phrasal Verbs"}, {en:"Read out", uz:"ovoz chiqarib o'qimoq", c:"Phrasal Verbs"}, {en:"Rip up", uz:"yirtmoq", c:"Phrasal Verbs"}, {en:"Rub out", uz:"o'chirg'ich bilan o'chirmoq", c:"Phrasal Verbs"}, {en:"Turn over", uz:"o'girmoq (betni)", c:"Phrasal Verbs"}, {en:"Write down", uz:"yozmoq", c:"Phrasal Verbs"},
        // Prepositional Phrases (6)
        {en:"By heart", uz:"yurakdan (yoddan)", c:"Prepositional Phrases"}, {en:"For instance", uz:"masalan", c:"Prepositional Phrases"}, {en:"In conclusion", uz:"xulosada", c:"Prepositional Phrases"}, {en:"In fact", uz:"aslida", c:"Prepositional Phrases"}, {en:"In favour (of)", uz:"qo'llamoq", c:"Prepositional Phrases"}, {en:"In general", uz:"umuman olganda", c:"Prepositional Phrases"},
        // Word Formation (28)
        {en:"begin", uz:"boshlamoq", c:"Word Formation"}, {en:"began", uz:"begin (past simple)", c:"Word Formation"}, {en:"begun", uz:"begin (past participle)", c:"Word Formation"}, {en:"beginner", uz:"boshlovchi", c:"Word Formation"}, {en:"beginning", uz:"boshlanish", c:"Word Formation"}, {en:"brave", uz:"jasur", c:"Word Formation"}, {en:"bravery", uz:"jasurlik", c:"Word Formation"}, {en:"correct", uz:"to'g'ri", c:"Word Formation"}, {en:"correction", uz:"to'g'rilik (tuzatish)", c:"Word Formation"}, {en:"incorrect", uz:"noto'g'ri", c:"Word Formation"}, {en:"divide", uz:"bo'lmoq / taqsimlamoq", c:"Word Formation"}, {en:"division", uz:"taqsimlash", c:"Word Formation"}, {en:"educate", uz:"ta'lim bermoq", c:"Word Formation"}, {en:"education", uz:"ta'lim", c:"Word Formation"}, {en:"instruct", uz:"ko'rsatma bermoq", c:"Word Formation"}, {en:"instruction (wf)", uz:"ko'rsatma", c:"Word Formation"}, {en:"instructor", uz:"instruktor", c:"Word Formation"}, {en:"memory", uz:"xotira", c:"Word Formation"}, {en:"memorise", uz:"yodlamoq", c:"Word Formation"}, {en:"memorial", uz:"haykal / yodgorlik", c:"Word Formation"}, {en:"refer", uz:"ma'lumot bermoq", c:"Word Formation"}, {en:"reference", uz:"ma'lumotnoma", c:"Word Formation"}, {en:"silent", uz:"tinch", c:"Word Formation"}, {en:"silence", uz:"tinchlik", c:"Word Formation"}, {en:"silently", uz:"tinch holatda", c:"Word Formation"}, {en:"simple", uz:"sodda", c:"Word Formation"}, {en:"simplify", uz:"soddalashtirmoq", c:"Word Formation"}, {en:"simplicity", uz:"soddalik", c:"Word Formation"},
        // Word Patterns (12)
        {en:"Capable of", uz:"...ga qobiliyatli", c:"Word Patterns"}, {en:"Talented at", uz:"...da talantli", c:"Word Patterns"}, {en:"Cheat at/in", uz:"...da aldamoq", c:"Word Patterns"}, {en:"Confuse sth with", uz:"...bilan chalkashtirmoq", c:"Word Patterns"}, {en:"Continue with", uz:"...bilan davom etmoq", c:"Word Patterns"}, {en:"Cope with", uz:"uddalamoq", c:"Word Patterns"}, {en:"Help (sb) with", uz:"...bilan yordam bermoq", c:"Word Patterns"}, {en:"Know about", uz:"...haqida bilmoq", c:"Word Patterns"}, {en:"Learn about", uz:"...haqida o'rganmoq", c:"Word Patterns"}, {en:"Succeed in", uz:"...da muvaffaqiyat qozonmoq", c:"Word Patterns"}, {en:"An opinion about/of", uz:"...haqida fikr", c:"Word Patterns"}, {en:"A question about", uz:"...haqida savol", c:"Word Patterns"}
    ];

    let quiz = [], current = 0, score = 0, mode = '', answered = false;
    function startQuiz(m) {
        if ('speechSynthesis' in window) { window.speechSynthesis.cancel(); window.speechSynthesis.speak(new SpeechSynthesisUtterance("")); }
        mode = m; score = 0; current = 0; quiz = [...dictionary].sort(() => Math.random() - 0.5);
        document.getElementById('start-screen').style.display = 'none'; document.getElementById('quiz-area').style.display = 'flex';
        render();
    }
    function render() {
        answered = false; const item = quiz[current];
        document.getElementById('category').innerText = item.c;
        document.getElementById('counter').innerText = `${current + 1} / ${quiz.length}`;
        document.getElementById('progress').style.width = `${(current / quiz.length) * 100}%`;
        document.getElementById('q-text').innerText = mode === 'uz-en' ? item.uz : item.en;
        document.getElementById('score-info').innerText = `Ball: ${score}`;
        const correctVal = mode === 'uz-en' ? item.en : item.uz;
        let opts = [correctVal];
        while(opts.length < 4) {
            let r = dictionary[Math.floor(Math.random() * dictionary.length)];
            let v = mode === 'uz-en' ? r.en : r.uz;
            if(!opts.includes(v)) opts.push(v);
        }
        opts.sort(() => Math.random() - 0.5);
        const optBox = document.getElementById('options');
        optBox.innerHTML = '';
        opts.forEach(o => {
            const b = document.createElement('button'); b.className = 'opt'; b.innerText = o;
            b.onclick = () => check(b, o, correctVal, item.en); optBox.appendChild(b);
        });
        document.getElementById('next-btn').style.visibility = 'hidden';
    }
    function check(btn, selected, correct, speakWord) {
        if(answered) return; answered = true;
        if ('speechSynthesis' in window) { window.speechSynthesis.cancel(); const u = new SpeechSynthesisUtterance(speakWord); u.lang = 'en-US'; u.rate = 0.85; window.speechSynthesis.speak(u); }
        if(selected === correct) { btn.classList.add('correct'); score++; } 
        else { btn.classList.add('wrong'); document.querySelectorAll('.opt').forEach(x => { if(x.innerText === correct) x.classList.add('correct'); }); }
        document.getElementById('score-info').innerText = `Ball: ${score}`; document.getElementById('next-btn').style.visibility = 'visible';
    }
    function nextQuestion() { current++; if(current < quiz.length) render(); else showResults(); }
    function showResults() {
        const total = answered ? current + 1 : current; const p = total === 0 ? 0 : Math.round((score/total)*100);
        document.getElementById('quiz-area').innerHTML = `
            <div class="result-box"><div class="result-pct">${p}%</div><p style="font-weight:700; color:var(--secondary); margin-bottom:20px;">To'g'ri: ${score} / ${total}</p>
            <button class="mode-btn" onclick="location.reload()" style="background:var(--p); color:white;">Qayta boshlash</button></div>`;
    }
</script>
</body>
</html>