<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocabulary Quiz</title>
    <style>
        body { font-family: sans-serif; background: #f0f0f0; margin: 0; padding: 20px; display: flex; justify-content: center; }
        .card { background: white; width: 100%; max-width: 400px; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .btn { width: 100%; padding: 15px; margin: 10px 0; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: bold; background: #eee; }
        .opt-btn { background: #fff; border: 2px solid #eee; margin: 5px 0; }
        .correct { background: #2ecc71 !important; color: white; }
        .wrong { background: #e74c3c !important; color: white; }
        #next-btn { background: #34495e; color: white; display: none; margin-top: 20px; }
        .q-text { font-size: 22px; text-align: center; margin: 20px 0; font-weight: bold; }
    </style>
</head>
<body>

<div class="card">
    <div id="start-screen">
        <h2 style="text-align: center;">Unit 1 Test</h2>
        <button class="btn" onclick="start('uz-en')">O'zbekcha -> Inglizcha</button>
        <button class="btn" onclick="start('en-uz')">Inglizcha -> O'zbekcha</button>
    </div>

    <div id="quiz-screen" style="display: none;">
        <div id="q-text" class="q-text"></div>
        <div id="options"></div>
        <button id="next-btn" class="btn" onclick="render()">Keyingisi</button>
    </div>
</div>

<script>
    const data = [
        {en: "beat", uz: "yutmoq, mag'lub qilmoq"}, {en: "board game", uz: "taxtali o'yin"},
        {en: "captain", uz: "kapitan"}, {en: "challenge", uz: "da'vat etmoq"},
        {en: "champion", uz: "chempion"}, {en: "cheat", uz: "aldamoq"},
        {en: "classical music", uz: "klassik musiqa"}, {en: "club", uz: "klub"},
        {en: "coach", uz: "murabbiy"}, {en: "competition", uz: "musobaqa"},
        {en: "concert", uz: "konsert"}, {en: "defeat", uz: "mag'lub qilmoq"},
        {en: "entertaining", uz: "ko'ngilochar"}, {en: "folk music", uz: "xalq qo'shig'i"},
        {en: "group", uz: "guruh"}, {en: "gym", uz: "zal"},
        {en: "have fun", uz: "yayramoq"}, {en: "interest", uz: "qiziqmoq, qiziqish"},
        {en: "member", uz: "a'zo"}, {en: "opponent", uz: "raqib"},
        {en: "organise", uz: "tashkillashtirmoq"}, {en: "pleasure", uz: "rohat"},
        {en: "referee", uz: "sudya, hakam"}, {en: "rhythm", uz: "ritm"},
        {en: "risk", uz: "tavakkal qilmoq"}, {en: "score", uz: "natija koâ€™rsatmoq"},
        {en: "support", uz: "qo'llab-quvatlamoq"}, {en: "team", uz: "jamoa"},
        {en: "train", uz: "shug'ullanmoq"}, {en: "video game", uz: "video o'yin"},
        {en: "carry on", uz: "davom etmoq"}, {en: "eat out", uz: "restoranda ovqatlanmoq"},
        {en: "give up", uz: "to'xtatmoq"}, {en: "join in", uz: "qo'shilmoq"},
        {en: "send off", uz: "chetlatmoq (o'yindan)"}, {en: "take up", uz: "boshlamoq (sport/hobby)"},
        {en: "turn down", uz: "pasaytirmoq (ovozni)"}, {en: "turn up", uz: "ko'tarmoq (ovozni)"},
        {en: "for a long time", uz: "ko'p vaqtdan beri"}, {en: "for fun", uz: "ko'ngilxushlik uchun"},
        {en: "in the middle (of)", uz: "...ning o'rtasida"}, {en: "in time (for)", uz: "...uchun vaqtida"},
        {en: "on CD/DVD/video", uz: "CD/DVD/videoda"}, {en: "on stage", uz: "sahnada"},
        {en: "act", uz: "harakat qilmoq"}, {en: "action", uz: "harakat"},
        {en: "(in)active", uz: "(no)faol"}, {en: "actor", uz: "aktyor"},
        {en: "athlete", uz: "atlet"}, {en: "athletic", uz: "atletik"},
        {en: "athletics", uz: "atletika"}, {en: "child", uz: "bola"},
        {en: "children", uz: "bolalar"}, {en: "childhood", uz: "bolalik"},
        {en: "collect", uz: "yig'moq"}, {en: "collection", uz: "kolleksiya"},
        {en: "collector", uz: "yig'uvchi"}, {en: "entertain", uz: "ko'ngilxushlik qilmoq"},
        {en: "entertainment", uz: "ko'ngilxushlik"}, {en: "hero", uz: "qahramon"},
        {en: "heroic", uz: "qahramonlarcha"}, {en: "heroine", uz: "qahramon ayol"},
        {en: "music", uz: "musiqa"}, {en: "musical", uz: "musiqiy"},
        {en: "musician", uz: "musiqachi"}, {en: "play", uz: "o'ynamoq"},
        {en: "player", uz: "o'yinchi"}, {en: "playful", uz: "o'yinqaroq"},
        {en: "sail", uz: "suzmoq"}, {en: "sailing", uz: "suzish, dengiz safari"},
        {en: "sailor", uz: "dengizchi"}, {en: "sing", uz: "kuylamoq"},
        {en: "sang", uz: "sing (o'tgan zamon)"}, {en: "sung", uz: "sing (P.P. shakli)"},
        {en: "song", uz: "kuy/qo'shiq"}, {en: "singer", uz: "qo'shiqchi"},
        {en: "singing", uz: "kuylash"}, {en: "bored with", uz: "...dan zerikkan"},
        {en: "crazy about", uz: "...ning ashaddiy muhlisi"}, {en: "good at", uz: "...da yaxshi"},
        {en: "interested in", uz: "...ga qiziqmoq"}, {en: "keen on", uz: "...ga qiziqmoq"},
        {en: "popular with", uz: "...bilan mashhur"}, {en: "feel like", uz: "xohlamoq"},
        {en: "listen to", uz: "tinglamoq"}, {en: "take part in", uz: "qatnashmoq"},
        {en: "a book (by sb) about", uz: "...haqida kitob"}, {en: "a fan of", uz: "...ning muhlisi"},
        {en: "a game against", uz: "...ga qarshi o'yin"}
    ];

    let quizData = [], current = 0, mode = '';

    function start(m) {
        mode = m;
        quizData = data.sort(() => Math.random() - 0.5);
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('quiz-screen').style.display = 'block';
        render();
    }

    function render() {
        if(current >= quizData.length) {
            alert("Test tugadi!");
            location.reload();
            return;
        }
        document.getElementById('next-btn').style.display = 'none';
        const item = quizData[current];
        document.getElementById('q-text').innerText = (mode === 'uz-en') ? item.uz : item.en;
        
        const correct = (mode === 'uz-en') ? item.en : item.uz;
        let options = [correct];
        while(options.length < 4) {
            let r = data[Math.floor(Math.random() * data.length)];
            let v = (mode === 'uz-en') ? r.en : r.uz;
            if(!options.includes(v)) options.push(v);
        }
        options.sort(() => Math.random() - 0.5);

        const box = document.getElementById('options');
        box.innerHTML = '';
        options.forEach(opt => {
            const b = document.createElement('button');
            b.className = 'btn opt-btn';
            b.innerText = opt;
            b.onclick = () => check(b, opt, correct, item.en);
            box.appendChild(b);
        });
    }

    function check(btn, selected, correct, engWord) {
        // Ovoz berish
        const synth = window.speechSynthesis;
        const utter = new SpeechSynthesisUtterance(engWord);
        utter.lang = 'en-US';
        synth.speak(utter);

        const buttons = document.querySelectorAll('.opt-btn');
        buttons.forEach(b => b.disabled = true);

        if(selected === correct) {
            btn.classList.add('correct');
        } else {
            btn.classList.add('wrong');
            buttons.forEach(b => { if(b.innerText === correct) b.classList.add('correct'); });
        }
        document.getElementById('next-btn').style.display = 'block';
        current++;
    }
</script>

</body>
</html>